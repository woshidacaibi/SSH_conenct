# Git

## 版本控制

### 本地版本控制：

单机运行，不支持多人开发，用软件记录文件的不同版本

### 集中化版本控制：

基于服务器、客户端的运行模式，客户端只保留最新的文件版本，历史版本由服务器保留。不支持离线提交

### 分布式版本控制（Git）：

基于服务器、客户端的运行模式，服务器保存所有版本，客户端是服务器的完整备份，也有全部的版本，可以客户端断网后支持离线本地提交版本更新。

## Git概念

### SVN差异比较

传统的版本控制系统（例如 SVN）是基于差异的版本控制，它们存储的是一组基本文件和每个文件随时间逐步累积的差异。

就是不对变化的文件进行记录，而是把变化的内容进行记录

![66398399494](D:\前端学习\git+github\assets\1663983994948.png)

节省磁盘空间，但是耗时效率低

### Git的记录快照

Git 快照是在原有文件版本的基础上重新生成一份新的文件，类似于备份。为了效率，如果文件没有修改，Git 不再重新存储该文件，而是只保留一个链接指向之前存储的文件。

就是不记录文件变化，有改变就保留旧文件，生成新文件取代。如果新版本没有更新，那就留个链接指向之前的最近文件即可。

空间换时间，版本切换时非常快，因为每个版本都是完整的文件快照，切换版本时直接恢复目标版本的快照即可，但是耗磁盘空间。

###  Git 中的绝大多数操作都只需要访问本地文件和资源

① 断网后依旧可以在本地对项目进行版本管理
② 联网后，把本地修改的记录同步到云端服务器即可

### Git的三个区域

工作区：处理编程代码

暂存区：完成的代码放到临时存放区域等待提交

Git仓库：代码最终存放区域

### Git三种状态

已修改 modified：修改了文件，但是还没放到暂存区

已暂存 staged：已修改的文件已做提交标记，使其包含到下次提交的列表中

已提交 committed：以安全存放Git仓库



三个区对应三个状态

工作区的文件被修改了，但还没有放到暂存区，就是已修改状态。
如果文件已修改并放入暂存区，就属于已暂存状态。
如果 Git 仓库中保存着特定版本的文件，就属于已提交状态。

### Git工作流程

① 在工作区中修改文件
② 将你想要下次提交的更改进行暂存
③ 提交更新，找到暂存区的文件，将快照永久性存储到 Git 仓库

## Git操作

清屏：clear

### 总体流程：

git init  初始化当前文件夹为git仓库

git add 文件 添加文件到跟踪状态

修改文件后

git add 文件 添加文件到暂存区

git commit -m 'message' 提交文件到git仓库，此时所有文件都处于已提交，最新状态

### 全局配置文件

到 C:/Users/用户名文件夹/.gitconfig 使用记事本查看

命令查看

git config --list --global

git config user.指定配置项

git help config

### 获取或创建Git仓库

① 将尚未进行版本控制的本地目录转换为 Git 仓库

​	① 在项目目录中，通过鼠标右键打开“Git Bash”
	② 执行 git init 命令将当前的目录转化为 Git 仓库	

**git init 命令**

会创建一个名为 .git 的隐藏目录，这个 .git 目录就是当前项目的 Git 仓库，里面包含了初始的必要文件，这些文件是 Git 仓库的必要组成部分

② 从其它服务器克隆一个已存在的 Git 仓库

### 工作区文件四种状态

**工作区**中的每一个文件可能有 4 种状态，这四种状态共分为两大类，如图所示：

![66398594005](D:\前端学习\git+github\assets\1663985940053.png)

新建文件默认都是未跟踪

**Git 操作的终极结果：让工作区中的文件都处于“未修改”的状态。**

### 检查文件状态

git status

git status -s

绿色D 表示下次提交会把这玩意从git仓库中移除，

只存在于过往的版本中

前面A 表示新添加到暂存区中的文件

前面红色M 表示已修改 但未放到暂存区

前面绿色M 表示已修改 且放到暂存区

![66398610918](D:\前端学习\git+github\assets\1663986109189.png)

untracked files 中显示为跟踪的文件

此外中文不会正常显示

未跟踪的文件意味着 Git 在之前的快照（提交）中没有这些文件；Git 不会自动将之纳入跟踪范围

### 添加跟踪文件、将修改提交到暂存区、把有冲突的文件标记为已解决状态

git add 文件名

### 提交更新

git commit -m "提交描述消息"

-m 必须写，要不跳到vim页面了

### 撤销文件修改

git checkout -- 文件名

把对工作区中对应文件的修改，还原成 Git 仓库中所保存的版本。
操作的结果：所有的修改会丢失，且无法恢复！危险性比较高，请慎重操作！

撤销操作的本质：**用 Git 仓库中保存的文件，覆盖工作区中指定的文件**

### . 表全部文件

### 向暂存区中一次性添加多个文件

git add **.** 注意是点

###  取消暂存的文件

git reset HEAD 文件名称

### 跳过暂存区直接提交Git仓库

git commit -a -m 'msg'

Git 就会自动把
所有已经跟踪过的文件暂存起来一并提交，从而跳过 git add 

### 移除文件

① 从 Git 仓库和工作区中同时移除对应的文件，status里直接找不到了

git rm --f 文件名

② 只从 Git 仓库中移除指定的文件（解除跟踪），但保留工作区中对应的文件

git rm --cached 文件名

